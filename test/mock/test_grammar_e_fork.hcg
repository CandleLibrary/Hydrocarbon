@IGNORE θws θnl

↦asi { 
    while(θws) $next;

    if( \; ){ 

        return true;
    }

    if( θnl || \} ) { 
        l.tl = 0;
        return true;
    }
    
    return false;
 }

↦str {
    
    $tk_start;

    while( ! \" && !θeof) { if( \\ ) $next; $next }

    if(! \" ) return false;

    $tk_end;

    return true;
}

<> S > E

<> E > P
	| F
	| I
    | string

<> string > \" shift:str \"             ↦r { { o:"string", d:$sym2 } }

<> P > ( K(+) )                         ↦r { { o:"parenth", d:$sym1 } }    
    
<> K > (RST g:ws) \( E \) (RST g:ws) ( \; )                   ↦r { { o:"bobbu", u:$sym2 } }


<> F > \( L \)  => { E shift:asi }      ↦r { { o:"function", u:$sym2, d:$sym6 } }      

<> L >  (RST g:ws)  E 		↦r { [$sym1] }	
|  L (RST g:ws)   \, E  	    ↦r { [...$sym1, $sym3] }	


<> I > θid 