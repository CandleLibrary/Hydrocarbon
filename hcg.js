const e = (tk,r,o,l,s)=>{throw new SyntaxError(l.errorMessage(`unexpected token ${tk !== "$" ? tk[0] == "θ" || tk[0] == "τ" ? l.tx : tk : "EOF"} on input ${s} `))}, nf = ()=>-1, S$0=function (sym,env,lex,state) {return sym[0]},
head$0=function (sym,env,lex,state) {this.pre = sym[0]; this.prods = sym[1]},
preamble_components$0=function (sym,env,lex,state) {return [sym[0]]},
preamble_components$1=function (sym,env,lex,state) {return sym[0].push(sym[1]), sym[0]},
precedence_preamble$0=function (sym,env,lex,state) {this.type='precedence'; this.terminal = sym[1]; this.val = parseInt(sym[2])},
symbols_preamble$0=function (sym,env,lex,state) {this.type='symbols'; this.symbols = sym[1]},
ignore_preamble$0=function (sym,env,lex,state) {this.type='ignore'; this.symbols = sym[1]},
name_preamble$0=function (sym,env,lex,state) {this.type='name'; this.id = sym[1]},
production$0=function (sym,env,lex,state) {this.id = sym[0]; this.bodies = sym[2]},
production_bodies$0=function (sym,env,lex,state) {return sym[0].push(sym[2]), sym[0]},
entries$0=function (sym,env,lex,state) {this.body = sym[0]; this.body_functs = null},
entries$1=function (sym,env,lex,state) {this.body = sym[0]; this.body_functs = sym[1]},
entries$2=function (sym,env,lex,state) {this.body = null; this.body_functs = sym[1]},
entries$3=function (sym,env,lex,state) {this.body = null; this.body_functs = null},
body_entries$0=function (sym,env,lex,state) {this.sym = [sym[0]]; this.length = 1; this.conditions = []; this.functions = [];},
body_entries$1=function (sym,env,lex,state) {this.sym = []; this.length = 0; this.conditions = [sym[0]]; this.functions = []; sym[0].offset = this.length;},
body_entries$2=function (sym,env,lex,state) {this.sym = []; this.length = 0; this.conditions = []; this.functions = [sym[0]]; sym[0].offset = this.length;},
body_entries$3=function (sym,env,lex,state) {return (sym[0].functions.push(sym[1]),  sym[1].offset = sym[0].length, sym[0])},
body_entries$4=function (sym,env,lex,state) {return (sym[0].conditions.push(sym[1]),  sym[1].offset = sym[0].length, sym[0])},
body_entries$5=function (sym,env,lex,state) {return (sym[0].sym.push(sym[1]), sym[0].length++, sym[0])},
condition_clause$0=function (sym,env,lex,state) {this.type = "exc"; this.id = sym[2]},
condition_clause$1=function (sym,env,lex,state) {this.type = "err"; this.id = sym[2]},
condition_clause$2=function (sym,env,lex,state) {this.type = "ign"; this.id = sym[2]},
terminal_symbol$0=function (sym,env,lex,state) {this.type = "symbol"; this.id = sym[0]},
generated_symbol$0=function (sym,env,lex,state) {this.type = "generated"; this.id = sym[1]},
literal_symbol$0=function (sym,env,lex,state) {this.type = "literal"; this.id = sym[1]},
escaped_symbol$0=function (sym,env,lex,state) {this.type = "escaped"; this.id = sym[1]},
production_symbol$0=function (sym,env,lex,state) {this.type = "production"; this.id = sym[0]},
comment$0=function (sym,env,lex,state) {this.val = sym[1]},
comment_data$0=function (sym,env,lex,state) {return sym[0] + sym[1]},
body_functions$0=function (sym,env,lex,state) {this.type = "cstr"; this.txt = sym[3]; this.id = "";},
body_functions$1=function (sym,env,lex,state) {this.type = "cstr"; this.txt = ""; this.id = sym[3];},
function_clause$0=function (sym,env,lex,state) {this.type = "inline"; this.txt = sym[2]; this.id = "";},
symbols = ["((",
"))",
"--",
"@PREC",
"@SYMBOL",
"@IGNORE",
"@NAME",
"WERWER"],
goto = [(v,r = gt0[v]) => (r >= 0 ? r : -1),
nf,
(v,r = gt1[v]) => (r >= 0 ? r : -1),
(v,r = gt2[v]) => (r >= 0 ? r : -1),
nf,
nf,
nf,
nf,
nf,
nf,
v => sp(gt3,v),
(v,r = gt4[v]) => (r >= 0 ? r : -1),
(v,r = gt5[v]) => (r >= 0 ? r : -1),
(v,r = gt6[v]) => (r >= 0 ? r : -1),
(v,r = gt7[v]) => (r >= 0 ? r : -1),
(v,r = gt8[v]) => (r >= 0 ? r : -1),
nf,
nf,
nf,
nf,
nf,
(v,r = gt9[v]) => (r >= 0 ? r : -1),
nf,
nf,
nf,
nf,
(v,r = gt10[v]) => (r >= 0 ? r : -1),
(v,r = gt11[v]) => (r >= 0 ? r : -1),
(v,r = gt12[v]) => (r >= 0 ? r : -1),
nf,
nf,
nf,
nf,
nf,
nf,
(v,r = gt13[v]) => (r >= 0 ? r : -1),
(v,r = gt14[v]) => (r >= 0 ? r : -1),
nf,
nf,
nf,
nf,
nf,
nf,
nf,
(v,r = gt15[v]) => (r >= 0 ? r : -1),
nf,
nf,
nf,
nf,
nf,
nf,
(v,r = gt16[v]) => (r >= 0 ? r : -1),
nf,
nf,
nf,
nf,
nf,
nf,
nf,
(v,r = gt17[v]) => (r >= 0 ? r : -1),
(v,r = gt18[v]) => (r >= 0 ? r : -1),
nf,
nf,
nf,
nf,
nf,
nf,
nf,
nf,
nf,
nf,
nf,
nf,
nf,
(v,r = gt19[v]) => (r >= 0 ? r : -1),
nf,
nf,
nf,
nf,
nf,
nf,
nf,
(v,r = gt20[v]) => (r >= 0 ? r : -1),
(v,r = gt21[v]) => (r >= 0 ? r : -1),
(v,r = gt22[v]) => (r >= 0 ? r : -1),
(v,r = gt23[v]) => (r >= 0 ? r : -1),
nf,
nf,
(v,r = gt24[v]) => (r >= 0 ? r : -1),
nf,
(v,r = gt24[v]) => (r >= 0 ? r : -1),
(v,r = gt24[v]) => (r >= 0 ? r : -1),
(v,r = gt25[v]) => (r >= 0 ? r : -1),
(v,r = gt26[v]) => (r >= 0 ? r : -1),
(v,r = gt27[v]) => (r >= 0 ? r : -1),
nf,
nf,
nf,
nf,
nf,
(v,r = gt25[v]) => (r >= 0 ? r : -1),
nf,
nf],
eh = [e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e,
e],
gt0 = [-1,1,2,3,4,7,6,5,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9],
gt1 = [-1,-1,-1,-1,-1,-1,-1,-1,-1,15,16,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,17,18],
gt2 = [-1,-1,-1,-1,20,7,6,5,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9],
gt3 = [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,21,22,-1,-1,23,24],
gt4 = [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,28,22,-1,-1,23,24],
gt5 = [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,29,-1,30,31,32],
gt6 = [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,35],
gt7 = [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,37],
gt8 = [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,42,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,17,18,43],
gt9 = [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,46,-1,-1,23,24,-1,-1,-1,-1,-1,45],
gt10 = [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,48],
gt11 = [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,49],
gt12 = [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,46,-1,-1,23,24,-1,-1,-1,-1,-1,50],
gt13 = [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,53],
gt14 = [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,54,-1,55],
gt15 = [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,56,57,58,59,62,-1,-1,-1,-1,61,64,66,67,65,-1,69,-1,-1,-1,-1,-1,63],
gt16 = [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,72],
gt17 = [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,77,-1,-1,-1,-1,78,64,66,67,65,-1,69,-1,-1,-1,-1,75,76],
gt18 = [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,80],
gt19 = [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,86,58,59,62,-1,-1,-1,-1,61,64,66,67,65,-1,69,-1,-1,-1,-1,-1,63],
gt20 = [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,88,-1,-1,89,-1,30,31,32],
gt21 = [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,90,-1,-1,89,-1,30,31,32],
gt22 = [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,91,-1,-1,89,-1,30,31,32],
gt23 = [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,92,37],
gt24 = [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,96,-1,30,31,32],
gt25 = [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,55],
gt26 = [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,100,37],
gt27 = [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,101],
sf = [(...v)=>{o.push(null); return 2051},
(...v)=>42,
(...v)=>46,
(...v)=>50,
(...v)=>54,
(...v)=>58,
(...v)=>{let ln = Math.max(o.length-1,0); o[ln]=( S$0(o.slice(-1),e,l,s));o.length=ln+1;; return 5},
(...v)=>{o.push(null); return 9219},
(...v)=>78,
(...v)=>2055,
(...v)=>{let ln = Math.max(o.length-1,0); o[ln]=( preamble_components$0(o.slice(-1),e,l,s));o.length=ln+1;; return 3079},
(...v)=>4103,
(...v)=>102,
(...v)=>106,
(...v)=>110,
(...v)=>134,
(...v)=>138,
(...v)=>154,
(...v)=>158,
(...v)=>162,
(...v)=>166,

//Reduce with value 
let reduce_with_value = (fn, len, ln, ...v)=>{ ln = max(o.length-len);o[ln]=fn(o.slice(len),e,l,s);o.length=ln+1;}
let reduce_with_new_value = (fn, len, ln, ...v)=>{ ln = max(o.length-len);o[ln]=new fn(o.slice(len),e,l,s);o.length=ln+1;}
(...v)=>reduce_with_value(function_to_call,2,0,return_val,...v),

(...v)=>{let ln = Math.max(o.length-1,0); o[ln]=( preamble_components$0(o.slice(-1),e,l,s));o.length=ln+1;; return 9223},
(...v)=>178,
(...v)=>25607,
(...v)=>26631,
(...v)=>{let ln = Math.max(o.length-2,0); o[ln]=( preamble_components$1(o.slice(-2),e,l,s));o.length=ln+1;; return 3083},
(...v)=>190,
(...v)=>r(1213, ...v),
(...v)=>{let ln = Math.max(o.length-1,0); o[ln]=( preamble_components$0(o.slice(-1),e,l,s));o.length=ln+1;; return 17415},
(...v)=>18439,
(...v)=>206,
(...v)=>19463,
(...v)=>{let ln = Math.max(o.length-1,0); o[ln]=(new terminal_symbol$0(o.slice(-1),e,l,s));o.length=ln+1;; return 19463},
(...v)=>210,
(...v)=>{let ln = Math.max(o.length-1,0); o[ln]=( S$0(o.slice(-1),e,l,s));o.length=ln+1;; return 29703},
(...v)=>30727,
(...v)=>{let ln = Math.max(o.length-2,0); o[ln]=( preamble_components$1(o.slice(-2),e,l,s));o.length=ln+1;; return 9227},
(...v)=>242,
(...v)=>274,
(...v)=>282,
(...v)=>286,
(...v)=>{let ln = Math.max(o.length-3,0); o[ln]=(new ignore_preamble$0(o.slice(-3),e,l,s));o.length=ln+1;; return 7183},
(...v)=>{let ln = Math.max(o.length-2,0); o[ln]=( preamble_components$1(o.slice(-2),e,l,s));o.length=ln+1;; return 17419},
(...v)=>28679,
(...v)=>{let ln = Math.max(o.length-2,0); o[ln]=(new generated_symbol$0(o.slice(-2),e,l,s));o.length=ln+1;; return 21515},
(...v)=>{let ln = Math.max(o.length-2,0); o[ln]=(new literal_symbol$0(o.slice(-2),e,l,s));o.length=ln+1;; return 22539},
(...v)=>{let ln = Math.max(o.length-3,0); o[ln]=(new symbols_preamble$0(o.slice(-3),e,l,s));o.length=ln+1;; return 6159},
(...v)=>{let ln = Math.max(o.length-2,0); o[ln]=(new escaped_symbol$0(o.slice(-2),e,l,s));o.length=ln+1;; return 23563},
(...v)=>{let ln = Math.max(o.length-3,0); o[ln]=(new name_preamble$0(o.slice(-3),e,l,s));o.length=ln+1;; return 8207},
(...v)=>{let ln = Math.max(o.length-3,0); o[ln]=(new comment$0(o.slice(-3),e,l,s));o.length=ln+1;; return 27663},
(...v)=>{let ln = Math.max(o.length-2,0); o[ln]=( comment_data$0(o.slice(-2),e,l,s));o.length=ln+1;; return 29707},
(...v)=>294,
(...v)=>298,
(...v)=>{let ln = Math.max(o.length-1,0); o[ln]=( preamble_components$0(o.slice(-1),e,l,s));o.length=ln+1;; return 11271},
(...v)=>12295,
(...v)=>{let ln = Math.max(o.length-1,0); o[ln]=(new entries$0(o.slice(-1),e,l,s));o.length=ln+1;; return 13319},
(...v)=>318,
(...v)=>{let ln = Math.max(o.length-1,0); o[ln]=(new entries$3(o.slice(-1),e,l,s));o.length=ln+1;; return 13319},
(...v)=>326,
(...v)=>{let ln = Math.max(o.length-1,0); o[ln]=(new body_entries$0(o.slice(-1),e,l,s));o.length=ln+1;; return 14343},
(...v)=>{let ln = Math.max(o.length-1,0); o[ln]=(new body_entries$1(o.slice(-1),e,l,s));o.length=ln+1;; return 14343},
(...v)=>{let ln = Math.max(o.length-1,0); o[ln]=(new body_entries$2(o.slice(-1),e,l,s));o.length=ln+1;; return 14343},
(...v)=>20487,
(...v)=>{let ln = Math.max(o.length-1,0); o[ln]=(new terminal_symbol$0(o.slice(-1),e,l,s));o.length=ln+1;; return 20487},
(...v)=>{let ln = Math.max(o.length-1,0); o[ln]=(new production_symbol$0(o.slice(-1),e,l,s));o.length=ln+1;; return 24583},
(...v)=>330,
(...v)=>334,
(...v)=>338,
(...v)=>342,
(...v)=>{let ln = Math.max(o.length-4,0); o[ln]=(new precedence_preamble$0(o.slice(-4),e,l,s));o.length=ln+1;; return 5139},
(...v)=>{let ln = Math.max(o.length-4,0); o[ln]=(new production$0(o.slice(-4),e,l,s));o.length=ln+1;; return 10259},
(...v)=>{let ln = Math.max(o.length-2,0); o[ln]=(new entries$1(o.slice(-2),e,l,s));o.length=ln+1;; return 13323},
(...v)=>{let ln = Math.max(o.length-2,0); o[ln]=( body_entries$3(o.slice(-2),e,l,s));o.length=ln+1;; return 14347},
(...v)=>{let ln = Math.max(o.length-2,0); o[ln]=( body_entries$4(o.slice(-2),e,l,s));o.length=ln+1;; return 14347},
(...v)=>{let ln = Math.max(o.length-2,0); o[ln]=( body_entries$5(o.slice(-2),e,l,s));o.length=ln+1;; return 14347},
(...v)=>350,
(...v)=>{let ln = Math.max(o.length-2,0); o[ln]=(new entries$2(o.slice(-2),e,l,s));o.length=ln+1;; return 13323},
(...v)=>{let ln = Math.max(o.length-3,0); o[ln]=( production_bodies$0(o.slice(-3),e,l,s));o.length=ln+1;; return 11279},
(...v)=>374,
(...v)=>378,
(...v)=>382,
(...v)=>{let ln = Math.max(o.length-1,0); o[ln]=( preamble_components$0(o.slice(-1),e,l,s));o.length=ln+1;; return 16391},
(...v)=>390,
(...v)=>394,
(...v)=>398,
(...v)=>{let ln = Math.max(o.length-4,0); o[ln]=(new condition_clause$0(o.slice(-4),e,l,s));o.length=ln+1;; return 15379},
(...v)=>{let ln = Math.max(o.length-2,0); o[ln]=( preamble_components$1(o.slice(-2),e,l,s));o.length=ln+1;; return 16395},
(...v)=>{let ln = Math.max(o.length-4,0); o[ln]=(new condition_clause$1(o.slice(-4),e,l,s));o.length=ln+1;; return 15379},
(...v)=>{let ln = Math.max(o.length-4,0); o[ln]=(new condition_clause$2(o.slice(-4),e,l,s));o.length=ln+1;; return 15379},
(...v)=>{let ln = Math.max(o.length-4,0); o[ln]=(new function_clause$0(o.slice(-4),e,l,s));o.length=ln+1;; return 32787},
(...v)=>410,
(...v)=>{let ln = Math.max(o.length-4,0); o[ln]=(new body_functions$1(o.slice(-4),e,l,s));o.length=ln+1;; return 31763},
(...v)=>{let ln = Math.max(o.length-5,0); o[ln]=(new body_functions$0(o.slice(-5),e,l,s));o.length=ln+1;; return 31767}],
sm = [new Map([[`θid`,1],[`$`,1],[`@IGNORE`,2],[`@SYMBOL`,3],[`@PREC`,4],[`@NAME`,5],[`#`,6],[`θws`,0xFFFFFFFF],[`θnl`,0xFFFFFFFF]]),
new Map([[`$`,7],[`θws`,0xFFFFFFFF],[`θnl`,0xFFFFFFFF]]),
new Map([[`$`,8],[`θid`,9],[`#`,8],[`θws`,0xFFFFFFFF],[`θnl`,0xFFFFFFFF]]),
new Map([[`θid`,10],[`$`,10],[`@IGNORE`,2],[`@SYMBOL`,3],[`@PREC`,4],[`@NAME`,5],[`#`,6],[`θws`,0xFFFFFFFF],[`θnl`,0xFFFFFFFF]]),
new Map([[`θid`,11],[`τ@IGNORE`,11],[`τ@SYMBOL`,11],[`τ@PREC`,11],[`τ@NAME`,11],[`#`,11],[`$`,11],[`θws`,0xFFFFFFFF],[`θnl`,0xFFFFFFFF]]),
new Map([[`θid`,12],[`τ@IGNORE`,12],[`τ@SYMBOL`,12],[`τ@PREC`,12],[`τ@NAME`,12],[`#`,12],[`$`,12],[`θws`,0xFFFFFFFF],[`θnl`,0xFFFFFFFF]]),
new Map([[`θsym`,13],[`θ`,14],[`τ`,15],[`θws`,0xFFFFFFFF],[`θnl`,0xFFFFFFFF]]),
new Map([[`θsym`,16],[`θ`,14],[`τ`,15],[`\\`,17],[`θws`,0xFFFFFFFF],[`θnl`,0xFFFFFFFF]]),
new Map([[`θid`,9],[`θws`,0xFFFFFFFF],[`θnl`,0xFFFFFFFF]]),
new Map([[`θid`,18],[`θnum`,19],[`θws`,20],[`θsym`,21],[`θnl`,0xFFFFFFFF]]),
new Map([[`$`,22],[`θid`,9],[`#`,6],[`θws`,0xFFFFFFFF],[`θnl`,0xFFFFFFFF]]),
new Map([[`$`,23],[`θid`,23],[`#`,23],[`θws`,0xFFFFFFFF],[`θnl`,0xFFFFFFFF]]),
new Map([[`→`,24],[`θws`,0xFFFFFFFF],[`θnl`,0xFFFFFFFF]]),
new Map([[`→`,25],[`θws`,0xFFFFFFFF],[`θnl`,0xFFFFFFFF]]),
new Map([[`→`,26],[`θnl`,26],[`θid`,26],[`τ@IGNORE`,26],[`τ@SYMBOL`,26],[`τ@PREC`,26],[`τ@NAME`,26],[`#`,26],[`$`,26],[`θ`,26],[`τ`,26],[`θsym`,26],[`θnum`,26],[`--`,26],[`↦`,26],[`((`,26],[`\\`,26],[`│`,26],[`))`,26],[`θws`,0xFFFFFFFF]]),
new Map([[`θid`,27],[`τ@IGNORE`,27],[`τ@SYMBOL`,27],[`τ@PREC`,27],[`τ@NAME`,27],[`#`,27],[`$`,27],[`θws`,0xFFFFFFFF],[`θnl`,0xFFFFFFFF]]),
new Map([[`θnl`,28],[`θid`,29],[`τ@IGNORE`,29],[`τ@SYMBOL`,29],[`τ@PREC`,29],[`τ@NAME`,29],[`#`,29],[`$`,29],[`θsym`,13],[`θ`,14],[`τ`,15],[`θws`,0xFFFFFFFF]]),
new Map([[`θnl`,30],[`θid`,30],[`θ`,30],[`τ`,30],[`θsym`,30],[`τ@IGNORE`,30],[`τ@SYMBOL`,30],[`τ@PREC`,30],[`τ@NAME`,30],[`#`,30],[`$`,30],[`θws`,0xFFFFFFFF]]),
new Map([[`θnl`,31],[`θid`,31],[`θ`,31],[`τ`,31],[`θsym`,31],[`τ@IGNORE`,31],[`τ@SYMBOL`,31],[`τ@PREC`,31],[`τ@NAME`,31],[`#`,31],[`$`,31],[`θws`,0xFFFFFFFF]]),
new Map([[`θws`,0],[`θnl`,0],[`θid`,9]]),
new Map([[`θnum`,32],[`θws`,0xFFFFFFFF],[`θnl`,0xFFFFFFFF]]),
new Map([[`θnum`,33],[`))`,33],[`θ`,33],[`τ`,33],[`\\`,33],[`θsym`,33],[`θws`,0xFFFFFFFF],[`θnl`,0xFFFFFFFF]]),
new Map([[`θnum`,34],[`))`,34],[`θ`,34],[`τ`,34],[`\\`,34],[`θsym`,34],[`θws`,0xFFFFFFFF],[`θnl`,0xFFFFFFFF]]),
new Map([[`θws`,0],[`θnl`,0],[`θsym`,35]]),
new Map([[`θnl`,28],[`θid`,29],[`τ@IGNORE`,29],[`τ@SYMBOL`,29],[`τ@PREC`,29],[`τ@NAME`,29],[`#`,29],[`$`,29],[`θws`,0xFFFFFFFF]]),
new Map([[`θnl`,28],[`θid`,18],[`τ@IGNORE`,29],[`τ@SYMBOL`,29],[`τ@PREC`,29],[`τ@NAME`,29],[`#`,29],[`$`,29],[`θnum`,19],[`θws`,20],[`θsym`,21]]),
new Map([[`θnl`,36],[`θid`,36],[`θnum`,36],[`θws`,36],[`θsym`,36],[`τ@IGNORE`,36],[`τ@SYMBOL`,36],[`τ@PREC`,36],[`τ@NAME`,36],[`#`,36],[`$`,36],[`}`,36]]),
new Map([[`θnl`,37],[`θid`,37],[`θnum`,37],[`θws`,37],[`θsym`,37],[`τ@IGNORE`,37],[`τ@SYMBOL`,37],[`τ@PREC`,37],[`τ@NAME`,37],[`#`,37],[`$`,37],[`}`,37]]),
new Map([[`$`,38],[`θid`,38],[`#`,38],[`θws`,0xFFFFFFFF],[`θnl`,0xFFFFFFFF]]),
new Map([[`ɛ`,39],[`θsym`,40],[`θ`,14],[`θid`,9],[`τ`,15],[`\\`,17],[`((`,41],[`↦`,42],[`θws`,0xFFFFFFFF],[`θnl`,0xFFFFFFFF]]),
new Map([[`θid`,43],[`τ@IGNORE`,43],[`τ@SYMBOL`,43],[`τ@PREC`,43],[`τ@NAME`,43],[`#`,43],[`$`,43],[`θws`,0xFFFFFFFF],[`θnl`,0xFFFFFFFF]]),
new Map([[`θnl`,44],[`θid`,44],[`θ`,44],[`τ`,44],[`θsym`,44],[`τ@IGNORE`,44],[`τ@SYMBOL`,44],[`τ@PREC`,44],[`τ@NAME`,44],[`#`,44],[`$`,44],[`θws`,0xFFFFFFFF]]),
new Map([[`θid`,45],[`τ@IGNORE`,45],[`τ@SYMBOL`,45],[`τ@PREC`,45],[`τ@NAME`,45],[`#`,45],[`$`,45],[`θws`,0xFFFFFFFF],[`θnl`,0xFFFFFFFF]]),
new Map([[`θnl`,46],[`θid`,46],[`θ`,46],[`τ`,46],[`θsym`,46],[`τ@IGNORE`,46],[`τ@SYMBOL`,46],[`τ@PREC`,46],[`τ@NAME`,46],[`#`,46],[`$`,46],[`θnum`,46],[`--`,46],[`↦`,46],[`((`,46],[`\\`,46],[`│`,46],[`))`,46],[`θws`,0xFFFFFFFF]]),
new Map([[`θnl`,47],[`θid`,47],[`θ`,47],[`τ`,47],[`θsym`,47],[`τ@IGNORE`,47],[`τ@SYMBOL`,47],[`τ@PREC`,47],[`τ@NAME`,47],[`#`,47],[`$`,47],[`θnum`,47],[`--`,47],[`↦`,47],[`((`,47],[`\\`,47],[`│`,47],[`))`,47],[`θws`,0xFFFFFFFF]]),
new Map([[`θid`,48],[`τ@IGNORE`,48],[`τ@SYMBOL`,48],[`τ@PREC`,48],[`τ@NAME`,48],[`#`,48],[`$`,48],[`θws`,0xFFFFFFFF],[`θnl`,0xFFFFFFFF]]),
new Map([[`θnum`,49],[`--`,49],[`↦`,49],[`((`,49],[`θ`,49],[`θid`,49],[`τ`,49],[`\\`,49],[`θsym`,49],[`│`,49],[`))`,49],[`θws`,0xFFFFFFFF],[`θnl`,0xFFFFFFFF]]),
new Map([[`θid`,50],[`τ@IGNORE`,50],[`τ@SYMBOL`,50],[`τ@PREC`,50],[`τ@NAME`,50],[`#`,50],[`$`,50],[`θws`,0xFFFFFFFF],[`θnl`,0xFFFFFFFF]]),
new Map([[`θid`,51],[`τ@IGNORE`,51],[`τ@SYMBOL`,51],[`τ@PREC`,51],[`τ@NAME`,51],[`#`,51],[`$`,51],[`θws`,0xFFFFFFFF],[`θnl`,0xFFFFFFFF]]),
new Map([[`θnl`,52],[`θid`,52],[`θnum`,52],[`θws`,52],[`θsym`,52],[`τ@IGNORE`,52],[`τ@SYMBOL`,52],[`τ@PREC`,52],[`τ@NAME`,52],[`#`,52],[`$`,52],[`}`,52]]),
new Map([[`--`,53],[`│`,54],[`θws`,0xFFFFFFFF],[`θnl`,0xFFFFFFFF]]),
new Map([[`--`,55],[`│`,55],[`θws`,0xFFFFFFFF],[`θnl`,0xFFFFFFFF]]),
new Map([[`--`,56],[`│`,56],[`θws`,0xFFFFFFFF],[`θnl`,0xFFFFFFFF]]),
new Map([[`--`,57],[`│`,57],[`↦`,58],[`((`,41],[`θsym`,40],[`θ`,14],[`θid`,9],[`τ`,15],[`\\`,17],[`θws`,0xFFFFFFFF],[`θnl`,0xFFFFFFFF]]),
new Map([[`--`,59],[`│`,59],[`↦`,60],[`θws`,0xFFFFFFFF],[`θnl`,0xFFFFFFFF]]),
new Map([[`--`,61],[`↦`,61],[`((`,61],[`θ`,61],[`θid`,61],[`τ`,61],[`\\`,61],[`θsym`,61],[`│`,61],[`θws`,0xFFFFFFFF],[`θnl`,0xFFFFFFFF]]),
new Map([[`--`,62],[`↦`,62],[`((`,62],[`θ`,62],[`θid`,62],[`τ`,62],[`\\`,62],[`θsym`,62],[`│`,62],[`θws`,0xFFFFFFFF],[`θnl`,0xFFFFFFFF]]),
new Map([[`--`,63],[`↦`,63],[`((`,63],[`θ`,63],[`θid`,63],[`τ`,63],[`\\`,63],[`θsym`,63],[`│`,63],[`θws`,0xFFFFFFFF],[`θnl`,0xFFFFFFFF]]),
new Map([[`--`,64],[`↦`,64],[`((`,64],[`θ`,64],[`θid`,64],[`τ`,64],[`\\`,64],[`θsym`,64],[`│`,64],[`θws`,0xFFFFFFFF],[`θnl`,0xFFFFFFFF]]),
new Map([[`--`,65],[`↦`,65],[`((`,65],[`θ`,65],[`θid`,65],[`τ`,65],[`\\`,65],[`θsym`,65],[`│`,65],[`θws`,0xFFFFFFFF],[`θnl`,0xFFFFFFFF]]),
new Map([[`--`,66],[`↦`,66],[`((`,66],[`θ`,66],[`θid`,66],[`τ`,66],[`\\`,66],[`θsym`,66],[`│`,66],[`θws`,0xFFFFFFFF],[`θnl`,0xFFFFFFFF]]),
new Map([[`τEXC`,67],[`τERR`,68],[`τIGN`,69],[`θws`,0xFFFFFFFF],[`θnl`,0xFFFFFFFF]]),
new Map([[`{`,70],[`θws`,0xFFFFFFFF],[`θnl`,0xFFFFFFFF]]),
new Map([[`θid`,71],[`τ@IGNORE`,71],[`τ@SYMBOL`,71],[`τ@PREC`,71],[`τ@NAME`,71],[`#`,71],[`$`,71],[`θws`,0xFFFFFFFF],[`θnl`,0xFFFFFFFF]]),
new Map([[`$`,72],[`θid`,72],[`#`,72],[`θws`,0xFFFFFFFF],[`θnl`,0xFFFFFFFF]]),
new Map([[`--`,73],[`│`,73],[`θws`,0xFFFFFFFF],[`θnl`,0xFFFFFFFF]]),
new Map([[`--`,74],[`↦`,74],[`((`,74],[`θ`,74],[`θid`,74],[`τ`,74],[`\\`,74],[`θsym`,74],[`│`,74],[`θws`,0xFFFFFFFF],[`θnl`,0xFFFFFFFF]]),
new Map([[`--`,75],[`↦`,75],[`((`,75],[`θ`,75],[`θid`,75],[`τ`,75],[`\\`,75],[`θsym`,75],[`│`,75],[`θws`,0xFFFFFFFF],[`θnl`,0xFFFFFFFF]]),
new Map([[`--`,76],[`↦`,76],[`((`,76],[`θ`,76],[`θid`,76],[`τ`,76],[`\\`,76],[`θsym`,76],[`│`,76],[`θws`,0xFFFFFFFF],[`θnl`,0xFFFFFFFF]]),
new Map([[`τcstr`,77],[`{`,70],[`θws`,0xFFFFFFFF],[`θnl`,0xFFFFFFFF]]),
new Map([[`--`,78],[`│`,78],[`θws`,0xFFFFFFFF],[`θnl`,0xFFFFFFFF]]),
new Map([[`τcstr`,77],[`θws`,0xFFFFFFFF],[`θnl`,0xFFFFFFFF]]),
new Map([[`--`,79],[`│`,79],[`θws`,0xFFFFFFFF],[`θnl`,0xFFFFFFFF]]),
new Map([[`{`,80],[`^`,81],[`θws`,0xFFFFFFFF],[`θnl`,0xFFFFFFFF]]),
new Map([[`))`,82],[`θsym`,16],[`θ`,14],[`τ`,15],[`\\`,17],[`θws`,0xFFFFFFFF],[`θnl`,0xFFFFFFFF]]),
new Map([[`))`,83],[`θ`,83],[`τ`,83],[`\\`,83],[`θsym`,83],[`θws`,0xFFFFFFFF],[`θnl`,0xFFFFFFFF]]),
new Map([[`))`,84],[`θsym`,16],[`θ`,14],[`τ`,15],[`\\`,17],[`θws`,0xFFFFFFFF],[`θnl`,0xFFFFFFFF]]),
new Map([[`))`,85],[`θsym`,16],[`θ`,14],[`τ`,15],[`\\`,17],[`θws`,0xFFFFFFFF],[`θnl`,0xFFFFFFFF]]),
new Map([[`}`,86],[`θid`,18],[`θnum`,19],[`θws`,20],[`θsym`,21],[`θnl`,0xFFFFFFFF]]),
new Map([[`--`,87],[`↦`,87],[`((`,87],[`θ`,87],[`θid`,87],[`τ`,87],[`\\`,87],[`θsym`,87],[`│`,87],[`θws`,0xFFFFFFFF],[`θnl`,0xFFFFFFFF]]),
new Map([[`))`,88],[`θ`,88],[`τ`,88],[`\\`,88],[`θsym`,88],[`θws`,0xFFFFFFFF],[`θnl`,0xFFFFFFFF]]),
new Map([[`--`,89],[`↦`,89],[`((`,89],[`θ`,89],[`θid`,89],[`τ`,89],[`\\`,89],[`θsym`,89],[`│`,89],[`θws`,0xFFFFFFFF],[`θnl`,0xFFFFFFFF]]),
new Map([[`--`,90],[`↦`,90],[`((`,90],[`θ`,90],[`θid`,90],[`τ`,90],[`\\`,90],[`θsym`,90],[`│`,90],[`θws`,0xFFFFFFFF],[`θnl`,0xFFFFFFFF]]),
new Map([[`--`,91],[`↦`,91],[`((`,91],[`θ`,91],[`θid`,91],[`τ`,91],[`\\`,91],[`θsym`,91],[`│`,91],[`θws`,0xFFFFFFFF],[`θnl`,0xFFFFFFFF]]),
new Map([[`}`,92],[`θid`,18],[`θnum`,19],[`θws`,20],[`θsym`,21],[`θnl`,0xFFFFFFFF]]),
new Map([[`--`,93],[`│`,93],[`θws`,0xFFFFFFFF],[`θnl`,0xFFFFFFFF]]),
new Map([[`--`,94],[`│`,94],[`θws`,0xFFFFFFFF],[`θnl`,0xFFFFFFFF]])],
state = [sm[0],
sm[1],
sm[2],
sm[3],
sm[4],
sm[5],
sm[5],
sm[5],
sm[5],
sm[5],
sm[6],
sm[6],
sm[7],
sm[8],
sm[9],
sm[10],
sm[11],
sm[12],
sm[13],
sm[14],
sm[15],
sm[16],
sm[17],
sm[18],
sm[18],
sm[18],
sm[19],
sm[19],
sm[16],
sm[20],
sm[21],
sm[21],
sm[21],
sm[22],
sm[23],
sm[24],
sm[25],
sm[26],
sm[27],
sm[27],
sm[27],
sm[27],
sm[28],
sm[28],
sm[29],
sm[30],
sm[31],
sm[32],
sm[33],
sm[34],
sm[35],
sm[24],
sm[36],
sm[37],
sm[38],
sm[39],
sm[40],
sm[41],
sm[42],
sm[43],
sm[44],
sm[45],
sm[46],
sm[47],
sm[48],
sm[48],
sm[48],
sm[48],
sm[49],
sm[50],
sm[51],
sm[52],
sm[53],
sm[54],
sm[29],
sm[55],
sm[56],
sm[57],
sm[58],
sm[59],
sm[60],
sm[61],
sm[7],
sm[7],
sm[7],
sm[9],
sm[62],
sm[63],
sm[64],
sm[65],
sm[66],
sm[67],
sm[68],
sm[9],
sm[8],
sm[69],
sm[70],
sm[71],
sm[72],
sm[73],
sm[74],
sm[75],
sm[76]],
re = new Set(["EXC","ERR","IGN","cstr"]),
throw_ = ()=>{debugger},
types = {"num":1,"number":1,"id":2,"identifier":2,"str":4,"string":4,"ws":8,"white_space":8,"ob":16,"open_bracket":16,"cb":32,"close_bracket":32,"op":64,"operator":64,"sym":128,"symbol":128,"nl":256,"new_line":256,"dl":512,"data_link":512,"alpha_numeric":3,"white_space_new_line":264};

function getToken(l, reserved) {
    if (l.END) return "$";

    switch (l.ty) {
        case types.id:
            if (reserved.has(l.tx)) return "τ" + l.tx;
            return "θid";
        case types.num:
            return "θnum";
        case types.string:
            return "θstr";
        case types.new_line:
            return "θnl";
        case types.ws:
            return "θws";
        case types.data_link:
            return "θdl";
        default:
            return l.tx;
    }
}

 function parser(l, e = {}){
    l.IWS = false;

    if(symbols.length > 0){
        symbols.forEach(s=> {l.addSymbol(s)});
        l.tl = 0;
        l.next();
    }

    const o = [], ss = [0,0];
    
    let time = 10000, RECOVERING = 1,
        tk = getToken(l, re), p = l.copy(), sp = 1, len = 0, off= 0;
    
    outer:

    while(time-- > 0){
        
        let fn = state[ss[sp]].get(tk), r, st = 0, gt = -1, c = 0;

        if(fn == 0xFFFFFFFF){
            //Ignore the token
            l.next();
            tk = getToken(l, re, state[ss[sp]]);
            continue;
        }

        if(fn > 0){
            r = sf[fn-1](tk, e, o, l, ss[sp-1]);
        } else { 

            if((l.type & (l.types.op | l.types.sym)) && tk !== "θsym"){
                tk = "θsym";
                continue;
            }

            //Error Encountered 
            r = re[ss[sp]];
            
            const recovery_token = eh[ss[sp]](tk, e, o, l, p, ss[sp]);
            
            if(RECOVERING > 1 && typeof(recovery_token) == "string"){
                RECOVERING = 0; // To prevent infinite recursion
                tk = recovery_token;
                //reset current token
                l.tl = 0;
                continue;
            }
        }

        st = r >> 2;

        switch(r & 3){
            case 0: // ERROR
                
                if(tk == "$")
                    l.throw("Unexpected end of input");

                l.throw(`Unexpected token [${RECOVERING ? l.next().tx : l.tx}]`); 

                return [null];

            case 1: // ACCEPT
                break outer;

            case 2: //SHIFT
                o.push((tk[0] == "θ") ? l.tx : tk); 
                ss.push(off, r >> 2); 
                sp+=2; 
                p.sync(l);
                l.next(); 
                off = l.off; 
                tk = getToken(l, re, state[ss[sp]]); 
                RECOVERING++;
                break;

            case 3: // REDUCE

                len = (r & 0x3FC) >> 1;

                ss.length -= len;   
                sp -= len; 

                gt = goto[ss[sp]](r >> 10);

                if(gt < 0)
                    l.throw("Invalid state reached!");
                
                ss.push(off, gt); sp+=2; 
                break;
        }  
    }
    console.log(time)
    return o[0];
}; const hcg = parser;
