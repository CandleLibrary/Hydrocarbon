<http>

    <head>
    	<meta charset="utf8">
        <script src="/cfw/wick"></script>
    </head>

    <body>
        <div id="main"></div>
        <template id="template">
            <scope model="js_base">
                
                <textarea value=((value)())></textarea>
                
                <textarea value=((js_output))></textarea>
                
                <div>((table_output))</div>
                
                <input type=number value=((slice_size))>
                
                <script on=((trs_out))>
                	slice_size = trs;
                	table_output = pos.x;
                	js_output = trs * pos.x;
				</script>

            </scope>
        </template>
        <script type="module">
			const m = wick.model({macho:"true", trs_out:{trs:33, pos:{x:50}}});

			let start = (async ()=> {
				const presets = wick.presets({
					custom : {
						env: {macho:"test"}, 
						js_base : m
					},
					models :{
						js_base: m
					}

				});


				(await wick(document.getElementById("template"), presets)).mount(document.getElementById("main"));
			});

			window.addEventListener("load",(start));
		</script>
    </body>
</http>
